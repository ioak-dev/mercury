{"version":3,"sources":["images/mercury_white.svg","images/mercury_black.svg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/UserReducer.ts","reducers/CategoryReducer.ts","reducers/RequestReducer.ts","reducers/StageReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","components/Auth/Login.tsx","oakui/icons/SendIcon.tsx","oakui/icons/IoakIcon.tsx","oakui/OakIcon.tsx","oakui/OakButton.tsx","components/Landing/index.tsx","components/Lib/RestTemplate.ts","components/Constants.ts","oakui/OakSpinner.tsx","components/Notification/NotificationMessage.tsx","components/Notification/index.tsx","oakui/OakText.tsx","components/Auth/AuthService.ts","components/Utils.ts","components/Tenant/index.tsx","actions/AuthActions.ts","components/Auth/OakRoute.tsx","components/Auth/Unauthorized.tsx","components/Dash/LeftPanel/LoginSection.tsx","components/Logo/Logo.tsx","components/Dash/LeftPanel/PeopleLink.tsx","components/Dash/LeftPanel/PeopleList.tsx","components/Dash/LeftPanel/ChannelList.tsx","oakui/OakAvatar.tsx","components/Dash/LeftPanel/index.tsx","oakui/OakEditorToolbar.tsx","oakui/OakEditor.tsx","components/Dash/MainSection/ComposeSection.tsx","components/Types/schema.ts","oakui/OakViewer.tsx","components/Lib/DateUtils.ts","components/Dash/MainSection/ViewMessage.tsx","components/Dash/MainSection/MessageStreamRender.tsx","oakui/OakInfiniteScroll.tsx","components/Dash/MainSection/MessageStream.tsx","components/Dash/MainSection/PersonHeader.tsx","components/Dash/MainSection/index.tsx","components/Dash/index.tsx","components/App/Content.tsx","actions/ProfileActions.ts","actions/UserActions.ts","components/App/index.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","initialState","isAuth","firstname","lastname","theme","textSize","themeColor","users","data","items","logs","combineReducers","authorization","state","action","type","console","log","payload","profile","user","category","request","stage","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","subject","Subject","sendMessage","name","signal","next","receiveMessage","asObservable","Home","props","useEffect","className","queryString","require","Login","location","search","query","parse","cookies","set","space","authKey","history","push","SendIcon","version","id","x","y","viewBox","enableBackground","style","dimension","transform","d","IoakIcon","fill","points","accent","width","height","stroke","strokeWidth","strokeMiterlimit","cx","cy","r","OakIcon","getStyle","colorVar","chosenColor","color","getDimension","fontSize","size","svg","mat","fa","OakButton","useSelector","includes","variant","children","invert","small","align","onClick","icon","Landing","to","activeClassName","baseUrl","process","httpGet","endpoint","headers","url","axios","get","httpPost","post","constants","API_URL_TENANT","API_URL_TENANT_BANNER","API_URL_TENANT_CREATE","API_TENANT_URL","API_URL_PRESIGNUP","API_URL_RESET","API_URL_CODE","API_URL_USER_DETAILS","API_URL_STAGE","API_URL_PREDICT","API_URL_CATEGORY","API_URL_FAQ","API_URL_SR","API_URL_USER","API_URL","API_SIGNIN","API_SIGNUP","API_KEYS","API_JWT","OakSpinner","NotificationMessage","notification","message","handleRemove","Notification","useState","spinner","setSpinner","notificationList","setNotificationList","removeNotification","notificationData","filter","item","eventBus","subscribe","localCopy","unshift","duration","setTimeout","addNotification","unsubscribe","length","slice","reverse","map","key","data-test","OakText","multiline","disabled","autoComplete","errorFields","value","onChange","handleChange","onFocus","handleFocus","htmlFor","label","encrypt","password","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","stringify","Utf8","sjcl","isEmptyOrSpaces","str","match","Tenant","email","repeatPassword","jwtPassword","pageNo","created","setData","banner","setBanner","setErrorFields","getProfile","event","currentTarget","setError","fieldName","createTenantAction","preSignupData","formData","FormData","append","tenantName","solution","then","response","Promise","resolve","createTenant","status","catch","error","e","accept","target","files","required","preventDefault","test","preSignup","addAuth","dispatch","OakRoute","useDispatch","runMidleware","middlewareName","readAuthenticationSpace","authenticateSpace","isAdmin","authenticate","a","redirect","params","tenant","cookieKey","baseAuthUrl","sessionResponse","token","secret","firstName","first_name","lastName","last_name","userId","user_id","remove","redirectToLogin","redirectToUnauthorized","spaceId","window","href","forEach","middlewares","component","Unauthorized","LoginSection","Logo","src","mercuryBlack","alt","mercuryWhite","PeopleLink","PeopleList","ChannelList","OakAvatar","substring","showName","LeftPanel","OakEditorToolbar","indent","selected","font","heading","OakEditor","formats","modules","toolbar","container","keyboard","bindings","linebreak","shiftKey","handler","range","IMAGE_MIME_REGEX","loadImage","file","reader","FileReader","onload","result","img","document","createElement","getSelection","getRangeAt","deleteContents","insertNode","readAsDataURL","handleEnter","keyCode","delta","source","blockApiChangeEvents","setState","customClass","handleBlur","onpaste","clipboardData","i","getAsFile","this","bubble","center","bottom","onKeyUp","onBlur","React","Component","ComposeSection","channel","receiver","content","socket","method","onSubmit","noValidate","LIST_ALL_USERS","gql","LIST_PERSON_MESSAGES","OakViewer","dangerouslySetInnerHTML","__html","currentYear","Date","getFullYear","isToday","date","now","yearDate","getYear","monthDate","getMonth","dayDate","getDate","yearNow","monthNow","dayNow","ViewMessage","youareasender","setYouareasender","sender","selfUser","otherUser","dateText","format","formatDateOrTimeText","inserted_at","uuidv4","MessageStreamRender","newRelevantMessages","setNewRelevantMessages","newMessages","messages","index","OakInfiniteScroll","isFetching","setIsFetching","handleScroll","querySelector","selector","clientHeight","scrollTop","scrollHeight","handleReverseScroll","scrollTo","addEventListener","reverseOrder","MessageStream","useLazyQuery","notifyOnNetworkStatusChange","variables","selfId","otherId","lastIndex","pageSize","loadPersonMessages","loading","called","fetchMore","refetch","setMessages","setSelfUser","setOtherUser","find","fetchData","on","msg","prev","div","getElementById","personmessages","hasMore","updateQuery","fetchMoreResult","results","fetchMoreData","PersonHeader","MainSection","chosenUser","setChosenUser","undefined","Dash","sidebarExpanded","setSidebarExpanded","loadUsers","setParams","allUsers","themes","themecolor1","getTheme","themecolor2","themecolor3","themecolor4","createMuiTheme","palette","primary","main","secondary","connect","setProfile","getUser","addUser","withCookies","setSocket","setChannel","setShowNav","setSpace","httpLink","createHttpLink","uri","authLink","setContext","_","client","ApolloClient","link","concat","cache","InMemoryCache","Socket","auth_token","onError","onClose","userChannel","join","receive","reason","path","render","propsLocal","exact","App","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.60d1bdae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mercury_white.a91588b9.svg\";","module.exports = __webpack_public_path__ + \"static/media/mercury_black.2991a520.svg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\n\nconst initialState = {\n  isAuth: false,\n  firstname: '',\n  lastname: '',\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_AUTH:\n      console.log('GET_AUTH reducer');\n      return {\n        ...state,\n      };\n    case ADD_AUTH:\n      console.log('ADD_AUTH reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n\n    case REMOVE_AUTH:\n      console.log('REMOVE_AUTH reducer');\n      return {\n        ...state,\n        isAuth: false,\n        firstname: '',\n        lastname: '',\n      };\n    default:\n      return state;\n  }\n}\n","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\n\nconst initialState = {\n  theme: 'theme_dark',\n  textSize: 'textsize_medium',\n  themeColor: 'themecolor1',\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_PROFILE:\n      console.log('GET_PROFILE reducer');\n      return {\n        ...state,\n      };\n    case SET_PROFILE:\n      console.log('SET_PROFILE reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { GET_USER, ADD_USER, FETCH_ALL_USERS } from '../actions/types';\n\nconst initialState = {\n  users: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_USER:\n      console.log('GET_USER reducer');\n      return {\n        ...state,\n      };\n    case ADD_USER:\n      console.log('ADD_USER reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case FETCH_ALL_USERS:\n      console.log('FETCH_ALL_USERS reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { FETCH_CATEGORY } from '../actions/types';\n\nconst initialState = {\n  data: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_CATEGORY:\n      console.log('FETCH_CATEGORY reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { FETCH_REQUEST } from '../actions/types';\n\nconst initialState = {\n  items: [],\n  logs: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_REQUEST:\n      console.log('FETCH_REQUEST reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { FETCH_STAGE } from '../actions/types';\n\nconst initialState = {\n  data: [],\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_STAGE:\n      console.log('FETCH_STAGE reducer');\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport AuthReducer from './AuthReducer';\nimport ProfileReducer from './ProfileReducer';\nimport UserReducer from './UserReducer';\nimport CategoryReducer from './CategoryReducer';\nimport RequestReducer from './RequestReducer';\nimport StageReducer from './StageReducer';\n\nexport default combineReducers({\n  authorization: AuthReducer,\n  profile: ProfileReducer,\n  user: UserReducer,\n  category: CategoryReducer,\n  request: RequestReducer,\n  stage: StageReducer,\n});\n","export const GET_AUTH = 'GET_AUTH';\nexport const ADD_AUTH = 'ADD_AUTH';\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\n\nexport const GET_PROFILE = 'GET_PROFILE';\nexport const SET_PROFILE = 'SET_PROFILE';\n\nexport const GET_USER = 'GET_USER';\nexport const ADD_USER = 'ADD_USER';\n\nexport const FETCH_CATEGORY = 'FETCH_CATEGORY';\nexport const FETCH_REQUEST = 'FETCH_REQUEST';\nexport const FETCH_STAGE = 'FETCH_STAGE';\nexport const FETCH_ALL_USERS = 'FETCH_ALL_USERS';\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware) // ,\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\nexport default store;\n","import { Subject, Observable } from 'rxjs';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Message } from '../components/Types/GeneralTypes';\n\nconst subject = new Subject<Message>();\n\nexport function sendMessage(name: string, signal = true, data?: {}) {\n  subject.next({\n    name,\n    signal,\n    data,\n  });\n}\n\nexport function clearMessages() {\n  subject.next();\n}\n\nexport function receiveMessage(): Observable<Message> {\n  return subject.asObservable();\n}\n\nexport function newMessageId() {\n  return Math.random();\n}\n\nexport function newId() {\n  return uuidv4();\n}\n\nexport function httpHandleRequest(\n  messageId: any,\n  action: string,\n  reference: string\n) {\n  sendMessage('notification', true, {\n    id: messageId,\n    type: 'running',\n    message: `${action} ${reference ? `(${reference})` : ''} - In progress`,\n  });\n}\n\nexport function httpHandleResponse(\n  messageId: any,\n  response: any,\n  action: string,\n  reference: string\n) {\n  if (response.status === 200) {\n    sendMessage('notification', true, {\n      id: messageId,\n      type: 'success',\n      message: `${action} ${reference ? `(${reference})` : ''} - Success`,\n      duration: 3000,\n    });\n    return { outcome: true };\n  }\n  sendMessage('notification', true, {\n    id: messageId,\n    type: 'failure',\n    message: `${action} ${\n      reference ? `(${reference})` : ''\n    } - Failed with error ${response.status}`,\n    duration: 3000,\n  });\n  return { outcome: false };\n}\n\nexport function httpHandleResponseSilent(response: any) {\n  if (response.status === 200) {\n    return { outcome: true, response };\n  }\n  return { outcome: false, response };\n}\n\nexport function httpHandleError(\n  messageId: any,\n  error: any,\n  action: string,\n  reference: string\n) {\n  sendMessage('notification', true, {\n    id: messageId,\n    type: 'failure',\n    message: `${action} ${\n      reference ? `(${reference})` : ''\n    } - Failed with ${error}`,\n  });\n  return { outcome: false };\n}\n\nexport function httpHandleErrorSilent(error: any) {\n  return { outcome: false, response: error };\n}\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport OakButton from '../../oakui/OakButton';\nimport { newId, sendMessage } from '../../events/MessageService';\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  match: any;\n  history: any;\n}\n\nconst Home = (props: Props) => {\n  useEffect(() => {\n    sendMessage('show-navbar-element');\n  }, []);\n\n  return <div className=\"home full\">Phoenix WS Test home page</div>;\n};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\nimport './Login.scss';\n\nconst queryString = require('query-string');\n\ninterface Props {\n  setProfile: Function;\n  cookies: any;\n  history: any;\n  profile: any;\n  match: any;\n  location: any;\n}\n\nconst Login = (props: Props) => {\n  useEffect(() => {\n    if (props.location.search) {\n      const query = queryString.parse(props.location.search);\n      props.cookies.set(`mercury_${query.space}`, query.authKey);\n      props.history.push(`/${query.space}/dash`);\n    }\n  }, []);\n\n  return <></>;\n};\n\nexport default Login;\n","import React from 'react';\n\ninterface Props {\n  style: object;\n  accent: object;\n  dimension: object;\n}\nconst SendIcon = (props: Props) => {\n  return (\n    <svg\n      version=\"1.0\"\n      id=\"Layer_1\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 57 56\"\n      enableBackground=\"new 0 0 57 56\"\n      style={props.dimension}\n    >\n      <g id=\"Chat-Fenster\">\n        <g\n          id=\"chat_FAQ_Accordion2-Copy-13\"\n          transform=\"translate(-1364.000000, -1001.000000)\"\n        >\n          <g id=\"Send-Message\" transform=\"translate(397.000000, 1008.000000)\">\n            <g id=\"Send-Button\" transform=\"translate(990.000000, 10.000000)\">\n              <g id=\"Send_1_\">\n                <path\n                  style={props.style}\n                  d=\"M16,0.5c-0.1-0.1-0.3-0.1-0.4-0.1L-7,10.8c-0.1,0.1-0.2,0.2-0.2,0.3s0.1,0.3,0.2,0.3l6.4,3.1\n\t\t\t\t\t\tc0.1,0.1,0.3,0,0.4,0L6,9.9l-4.9,4.9C1,14.9,1,15,1,15.1l0.5,6.2c0,0.1,0.1,0.3,0.2,0.3h0.1c0.1,0,0.2,0,0.3-0.1l3.4-3.9l4.2,2\n\t\t\t\t\t\tc0.1,0,0.2,0,0.3,0s0.2-0.1,0.2-0.2l5.9-18.6C16.1,0.7,16.1,0.6,16,0.5z\"\n                />\n              </g>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport default SendIcon;\n","import React from 'react';\n\ninterface Props {\n  style: object;\n  accent: object;\n  dimension: object;\n}\nconst IoakIcon = (props: Props) => {\n  return (\n    <svg viewBox=\"0 0 73 73\" style={props.dimension}>\n      <polygon\n        fill=\"#27AAE1\"\n        points=\"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 \"\n      />\n      <g>\n        <path\n          fill=\"#149ED9\"\n          d=\"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2\n\t\tc-5.8,0-11.2,1.9-15.6,5.2L27.6,23z\"\n          style={props.accent}\n        />\n        <rect x=\"32\" y=\"37.4\" width=\"9.8\" height=\"25.6\" style={props.style} />\n        <circle\n          fill=\"none\"\n          stroke=\"#000000\"\n          strokeWidth=\"9.75\"\n          strokeMiterlimit=\"10\"\n          cx=\"36.9\"\n          cy=\"36.5\"\n          r=\"30.9\"\n          style={{ ...props.style, fill: 'none' }}\n        />\n        <polygon\n          fill=\"#27AAE1\"\n          points=\"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t\"\n        />\n        <circle cx=\"36.9\" cy=\"32.8\" r=\"7.8\" style={props.style} />\n      </g>\n    </svg>\n  );\n};\n\nexport default IoakIcon;\n","import React from 'react';\nimport './styles/oak-icon.scss';\nimport SendIcon from './icons/SendIcon';\nimport IoakIcon from './icons/IoakIcon';\n\ninterface Props {\n  // pass either mat or svg or fa\n  // mat for material icon names\n  mat?: string;\n  // svg for custom svg icon names\n  svg?: string;\n  fa?: string;\n  size?: string;\n  color?: string; // theme names and actual color codes or names or variables\n  accent?: string;\n}\nconst OakIcon = (props: Props) => {\n  const getStyle = colorVar => {\n    const style: any = {};\n    let chosenColor = '';\n    switch (colorVar) {\n      case 'primary':\n        chosenColor = 'var(--color-primary-1)';\n        break;\n      case 'secondary':\n        chosenColor = 'var(--color-secondary-1)';\n        break;\n      case 'tertiary':\n        chosenColor = 'var(--color-tertiary-1)';\n        break;\n      case 'success':\n        chosenColor = 'var(--color-success)';\n        break;\n      case 'failure':\n        chosenColor = 'var(--color-failure)';\n        break;\n      case 'warning':\n        chosenColor = 'var(--color-warning)';\n        break;\n      default:\n        chosenColor = colorVar || 'var(--color-foreground-1)';\n    }\n    style.fill = chosenColor;\n    style.color = chosenColor;\n    style.stroke = chosenColor;\n    return style;\n  };\n  const getDimension = () => {\n    const dimension: any = {};\n    dimension.fontSize = props.size ? props.size : '24px';\n    if (props.svg) {\n      dimension.height = props.size ? props.size : '24px';\n      dimension.width = 'auto';\n    }\n    return dimension;\n  };\n  return (\n    <div className=\"oak-icon\">\n      {props.mat && (\n        <i\n          className=\"material-icons\"\n          style={{ ...getStyle(props.color), ...getDimension() }}\n        >\n          {props.mat}\n        </i>\n      )}\n      {props.fa && (\n        <i\n          className={`fontawesome-icons ${props.fa}`}\n          style={{ ...getStyle(props.color), ...getDimension() }}\n        >\n          {props.mat}\n        </i>\n      )}\n      {props.svg && props.svg === 'send' && (\n        <SendIcon\n          style={getStyle(props.color)}\n          accent={props.accent && getStyle(props.accent)}\n          dimension={getDimension()}\n        />\n      )}\n      {props.svg && props.svg === 'ioak' && (\n        <IoakIcon\n          style={getStyle(props.color)}\n          accent={props.accent && getStyle(props.accent)}\n          dimension={getDimension()}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default OakIcon;\n","import React, { ReactNode } from 'react';\nimport { useSelector } from 'react-redux';\nimport './styles/oak-button.scss';\nimport OakIcon from './OakIcon';\n\ninterface Props {\n  icon?: string; // points to \"mat\" material icon\n  fa?: string;\n  svg?: string;\n  action?: any;\n  variant?:\n    | 'block'\n    | 'outline'\n    | 'appear'\n    | 'disappear'\n    | 'regular'\n    | 'disabled'\n    | 'drama';\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\n  align?: 'left' | 'right' | 'center';\n  small?: boolean;\n  invert?: boolean;\n  children?: ReactNode;\n  type?: 'button' | 'submit';\n}\n\nconst OakButton = (props: Props) => {\n  const profile = useSelector(state => state.profile);\n  const getStyle = () => {\n    let style = props.theme ? props.theme : '';\n    style += profile?.theme?.includes('theme_light') ? ' light' : '';\n    style += props.variant ? ` ${props.variant}` : '';\n\n    if (!props.children) {\n      style += ' icon';\n    }\n\n    style += props.invert ? ' invert' : '';\n\n    style += props.small ? ' small' : '';\n\n    style += props.align ? ` align-${props.align}` : '';\n\n    return style;\n  };\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button className={`oak-button ${getStyle()}`} onClick={props.action}>\n      <div className=\"button-label-container\">\n        {props.icon && <OakIcon mat={props.icon} size=\"1.2em\" />}\n        {props.fa && <OakIcon fa={props.fa} size=\"1.2em\" />}\n        {props.svg && <OakIcon svg={props.svg} size=\"1.2em\" />}\n        {props.children && props.children}\n      </div>\n    </button>\n  );\n};\n\nexport default OakButton;\n","import React, { useState } from 'react';\nimport './style.scss';\nimport { NavLink } from 'react-router-dom';\nimport OakButton from '../../oakui/OakButton';\n\nconst Landing = () => {\n  return (\n    <div className=\"landing\">\n      <div className=\"space-bottom-4\">\n        <h3>Mirror rorriM</h3>\n        <p>\n          <em>\n            <b>Queen</b>\n          </em>{' '}\n          Magic Mirror on the wall, who now is the fairest one of all?\n        </p>\n        <p>\n          <em>\n            <b>Magic Mirror</b>\n          </em>{' '}\n          Over the seven jewelled hills, beyond the seventh fall, in the cottage\n          of the seven dwarfs, dwells Snow White, fairest one of all.\n        </p>\n        <p>\n          <em>\n            <b>Queen</b>\n          </em>{' '}\n          Snow White lies dead in the forest. The huntsman has brought me proof.\n          [holds up her opened box] Behold, her heart.\n        </p>\n        <p>\n          <em>\n            <b>Magic Mirror</b>\n          </em>{' '}\n          Snow White still lives, the fairest in the land. Tis the heart of a\n          pig you hold in your hand.\n        </p>\n        <p>\n          <em>\n            <b>Queen</b>\n          </em>{' '}\n          [repulsed] The heart of a pig?! Then I&apos;ve been tricked!\n        </p>\n      </div>\n      <div className=\"action\">\n        <NavLink to=\"/tenant\" className=\"navitem\" activeClassName=\"active\">\n          <OakButton theme=\"primary\" variant=\"disappear\">\n            Create Tenant\n          </OakButton>\n        </NavLink>\n      </div>\n      {/* <OakSubMenu data = {this.state.data} variant=\"secondary\"/>\n      <div>\n        <OakButton align=\"left\" theme=\"primary\" variant=\"disappear\" icon=\"open_in_new\" action=\"\">disappear</OakButton>\n        <OakButton align=\"right\" theme=\"default\" variant=\"appear\" icon=\"open_in_new\" action=\"\">appear</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"regular\" icon=\"open_in_new\" action=\"\">regular</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"block\" icon=\"open_in_new\" action=\"\">block</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"outline\" icon=\"open_in_new\" action=\"\">outline</OakButton>\n        <OakButton align=\"right\" theme=\"secondary\" variant=\"block\" icon=\"open_in_new\" action=\"\"></OakButton>\n      </div> */}\n    </div>\n  );\n};\n\nexport default Landing;\n","import axios from 'axios';\n\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nexport function httpGet(endpoint: string, headers: any, url?: string) {\n  return axios.get((url || baseUrl) + endpoint, headers);\n  // .then(function(response) {\n  //     return Promise.resolve(response);\n  // }\n  // )\n}\n\nexport function httpPost(\n  endpoint: string,\n  payload: any,\n  headers: any,\n  url?: string\n) {\n  return axios.post((url || baseUrl) + endpoint, payload, headers);\n  //     .then(function(response) {\n  //         return Promise.resolve(response);\n  //     }\n  // )\n}\n\nexport function httpPut(\n  endpoint: string,\n  payload: any,\n  headers: any,\n  url?: string\n) {\n  return axios.put((url || baseUrl) + endpoint, payload, headers);\n  //     .then(function(response) {\n  //         return Promise.resolve(response);\n  //     }\n  // )\n}\n\nexport function httpDelete(endpoint: string, headers: any, url?: string) {\n  return axios.delete((url || baseUrl) + endpoint, headers);\n  //     .then(function(response) {\n  //         return Promise.resolve(response);\n  //     }\n  // )\n}\n","const constants = {\n  API_URL_TENANT: '/tenant',\n  API_URL_TENANT_BANNER: '/tenant/banner',\n  API_URL_TENANT_CREATE: '/tenant/create',\n  API_TENANT_URL: '/tenant/sendURL',\n\n  API_URL_PRESIGNUP: '/auth/keys',\n  API_URL_RESET: '/auth/reset',\n  API_URL_CODE: '/auth/sendResetCode',\n  API_URL_USER_DETAILS: '/user/details',\n\n  API_URL_STAGE: '/stage',\n  API_URL_PREDICT: '/model/predict',\n\n  API_URL_CATEGORY: '/category',\n  API_URL_FAQ: '/faq',\n  API_URL_SR: '/servicerequests',\n  API_URL_USER: '/user',\n  API_URL: '/auth/',\n  API_SIGNIN: '/signin',\n  API_SIGNUP: '/signup',\n  API_KEYS: '/keys',\n  API_JWT: '/signin/jwt',\n};\n\nexport default constants;\n","import React from 'react';\nimport './styles/oak-spinner.scss';\n\nconst OakSpinner = () => {\n  return (\n    <div>\n      <div className=\"oak-spinner\">\n        <div className=\"spinner-wrapper\">\n          <span />\n          <span />\n          <span />\n          <span />\n          <span />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OakSpinner;\n","import React from 'react';\nimport './style.scss';\n\ninterface Props {\n  notification: any;\n  handleRemove: any;\n}\n\nconst NotificationMessage = (props: Props) => {\n  return (\n    <div className={`message ${props.notification.type}`}>\n      {props.notification.type === 'running' && (\n        <div\n          className={`message-icon ${\n            props.notification.type === 'running' ? 'running' : ''\n          }`}\n        >\n          <i className=\"material-icons\">rotate_right</i>\n        </div>\n      )}\n      {props.notification.type === 'success' && (\n        <div className=\"message-icon\">\n          <i className=\"material-icons\">check_circle_outline</i>\n        </div>\n      )}\n      {props.notification.type === 'warning' && (\n        <div className=\"message-icon\">\n          <i className=\"material-icons\">warning</i>\n        </div>\n      )}\n      {props.notification.type === 'failure' && (\n        <div className=\"message-icon\">\n          <i className=\"material-icons\">error_outline</i>\n        </div>\n      )}\n      <div className=\"message-text\">{props.notification?.message}</div>\n      <div className=\"message-action\">\n        <i className=\"material-icons\" onClick={props.handleRemove}>\n          clear\n        </i>\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationMessage;\n","import React, { useState, useEffect } from 'react';\nimport './style.scss';\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\nimport OakSpinner from '../../oakui/OakSpinner';\nimport NotificationMessage from './NotificationMessage';\n\nconst Notification = () => {\n  const [spinner, setSpinner] = useState(false);\n  const [notificationList, setNotificationList] = useState<any | undefined>([]);\n  const [data, setData] = useState<any>({ notificationList: [] });\n\n  const removeNotification = notificationData => {\n    setNotificationList(\n      notificationList.filter(item => {\n        return item.id !== notificationData.id;\n      })\n    );\n  };\n  const addNotification = notificationData => {\n    const localCopy = [...notificationList];\n    localCopy.unshift(notificationData);\n    // setNotificationList([notificationData].concat(notificationList));\n    setNotificationList(localCopy);\n    // console.log(localCopy);\n    if (notificationData.duration) {\n      setTimeout(() => {\n        removeNotification(notificationData);\n      }, notificationData.duration);\n    } else if (!notificationData.id) {\n      setTimeout(() => {\n        removeNotification(notificationData);\n      }, 5000);\n    }\n    // console.log(notificationList.splice(0, 100));\n  };\n\n  useEffect(() => {\n    const eventBus = receiveMessage().subscribe(message => {\n      if (message.name === 'notification') {\n        if (!message.signal) {\n          removeNotification(message.data);\n        } else {\n          removeNotification(message.data);\n          addNotification(message.data);\n          // turn off spinner when a notification arrives\n          setSpinner(false);\n\n          // if (message.data && message.data.duration) {\n          //   setTimeout(() => {\n          //     sendMessage('notification', false);\n          //   }, message.data.duration);\n          // }\n        }\n      }\n\n      if (message.name === 'spinner') {\n        setSpinner(message.signal);\n      }\n    });\n    return () => eventBus.unsubscribe();\n  }, []);\n\n  return (\n    <>\n      {notificationList && notificationList.length > 0 && (\n        <div className=\"notification\">\n          {notificationList\n            .slice(0, 5)\n            .reverse()\n            .map(notification => (\n              <div key={notification.id || notification.message}>\n                <NotificationMessage\n                  notification={notification}\n                  handleRemove={removeNotification}\n                />\n              </div>\n            ))}\n        </div>\n      )}\n      {/* {spinner && <div data-test=\"spinner\" className=\"lds-dual-ring\" />} */}\n      {spinner && <OakSpinner data-test=\"spinner\" />}\n    </>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\nimport './styles/oak-text-slide.scss';\n\ninterface Props {\n  label?: string;\n  id: string;\n  data: any;\n  type?: string;\n  handleChange: any;\n  errorFields?: any;\n  disabled?: boolean;\n  rows?: number;\n  multiline?: boolean;\n  handleFocus?: Function;\n  placeholder?: string;\n}\nconst OakText = (props: Props) => {\n  const handleFocus = () => {\n    if (props.handleFocus) {\n      props.handleFocus();\n    }\n  };\n  return (\n    <div className=\"oak-text\">\n      {!props.multiline && (\n        <input\n          disabled={props.disabled}\n          autoComplete=\"off\"\n          className={\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\n            (props.disabled ? ' disabled' : '')\n          }\n          type={props.type ? props.type : 'text'}\n          name={props.id}\n          id={props.id}\n          value={props.data[props.id]}\n          onChange={props.handleChange}\n          onFocus={handleFocus}\n        />\n      )}\n      {props.multiline && (\n        <textarea\n          disabled={props.disabled}\n          className={\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\n            (props.disabled ? ' disabled' : '')\n          }\n          id={props.id}\n          name={props.id}\n          value={props.data[props.id]}\n          onChange={props.handleChange}\n        />\n      )}\n      <label\n        htmlFor={props.id}\n        className={props.data[props.id] ? 'active' : ''}\n      >\n        {props.label}\n      </label>\n    </div>\n  );\n};\n\nexport default OakText;\n","import sjcl from 'ioak-sjcl';\nimport CryptoJS from 'crypto-js';\nimport { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\nimport constants from '../Constants';\n\nexport function preSignup(data) {\n  return httpGet(constants.API_URL + data.name + constants.API_KEYS, null).then(\n    function(response) {\n      return Promise.resolve(response);\n    }\n  );\n}\n\nexport function signup(data) {\n  return httpPost(\n    constants.API_URL + data.tenantName + constants.API_SIGNUP,\n    {\n      email: data.email,\n      problem: encrypt(data.password, data.solution, data.salt),\n      solution: data.solution,\n      roles: [],\n    },\n    null\n  ).then(function(response) {\n    return Promise.resolve(response.status);\n  });\n}\n\nexport function createTenant(data) {\n  const formData = new FormData();\n  formData.append('tenantName', data.tenantName);\n  formData.append('email', data.email);\n  formData.append('jwtPassword', data.jwtPassword);\n  formData.append('problem', encrypt(data.password, data.solution, data.salt));\n  formData.append('solution', data.solution);\n  if (data.banner) {\n    formData.append('banner', data.banner, 'banner.jpg');\n  }\n  return httpPost(constants.API_URL_TENANT_CREATE, formData, {\n    'Content-Type': 'multipart/form-data',\n  }).then(function(response) {\n    return Promise.resolve(response);\n  });\n}\n\nexport function preSignin(data) {\n  return httpGet(\n    `${constants.API_URL + data.name + constants.API_KEYS}/${data.email}`,\n    null\n  )\n    .then(response => Promise.resolve(response))\n    .catch(error => Promise.resolve(error.response));\n}\n\nexport function signin(data, problem) {\n  try {\n    const solution = decrypt(data.password, JSON.stringify(problem));\n    return httpPost(\n      constants.API_URL + data.name + constants.API_SIGNIN,\n      {\n        email: data.email,\n        solution,\n      },\n      null\n    ).then(function(response) {\n      return Promise.resolve(response);\n    });\n  } catch (error) {\n    if (error.message === \"ccm: tag doesn't match\") {\n      return Promise.resolve({\n        status: 401,\n      });\n    }\n    return Promise.resolve(error);\n  }\n}\n\nexport function signinWithJwt(data) {\n  return httpPost(\n    constants.API_URL + data.tenantName + constants.API_JWT,\n    {\n      jwtToken: data.jwt,\n    },\n    null\n  ).then(function(response) {\n    return Promise.resolve(response);\n  });\n}\n\nexport function sentPasswordChangeEmail(data, type) {\n  return httpPost(constants.API_URL_CODE, data, null).then(function(response) {\n    return Promise.resolve(response.status);\n  });\n}\n\nexport function resetPassword(data, type) {\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\n    if (response.status === 200) {\n      let newData = {};\n      if (type && type === 'password') {\n        newData = {\n          problem: encrypt(\n            data.password,\n            response.data.solution,\n            response.data.salt\n          ),\n          solution: response.data.solution,\n          resetCode: data.resetCode,\n        };\n      }\n\n      return httpPost(constants.API_URL_RESET, newData, null).then(function(\n        response\n      ) {\n        return Promise.resolve(response.status);\n      });\n    }\n  });\n}\n\nfunction encrypt(password, message, salt) {\n  const config = {\n    cipher: 'aes',\n    iter: '12000',\n    ks: 256,\n    salt: CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(salt)),\n  };\n  return sjcl.encrypt(password, message, config);\n}\n\nfunction decrypt(password, ciphertext) {\n  return sjcl.decrypt(password, ciphertext);\n}\n","export function isEmptyOrSpaces(str) {\n  return str === null || str.match(/^ *$/) !== null;\n}\n\nexport function match(text, words) {\n  let found = false;\n  if (words) {\n    words.split(' ').forEach(word => {\n      if (text.match(new RegExp(`(\\\\w*${word}\\\\w*)`, 'gi'))) {\n        found = true;\n      }\n    });\n  }\n  return found;\n}\n\nexport function sort(array, property, isReverseOrder) {\n  const result = array.sort(function(o1, o2) {\n    if (isReverseOrder) {\n      return o1[property] > o2[property]\n        ? -1\n        : o1[property] < o2[property]\n        ? 1\n        : 0;\n    }\n    return o1[property] < o2[property]\n      ? -1\n      : o1[property] > o2[property]\n      ? 1\n      : 0;\n  });\n\n  return result;\n}\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport OakText from '../../oakui/OakText';\nimport { sendMessage } from '../../events/MessageService';\nimport { sentTenantUrl } from './TenantService';\nimport { preSignup, createTenant } from '../Auth/AuthService';\nimport { Profile } from '../Types/GeneralTypes';\nimport { isEmptyOrSpaces } from '../Utils';\nimport OakButton from '../../oakui/OakButton';\n\ninterface Props {\n  getProfile: Function;\n  profile: Profile;\n  history: any;\n}\ninterface State {\n  name: string;\n  email: string;\n  pageNo: number;\n  password: string;\n  repeatPassword: string;\n  jwtPassword: string;\n  banner: any;\n  created: boolean;\n  errorFields: {\n    name: boolean;\n    email: boolean;\n    password: boolean;\n    repeatPassword: boolean;\n    jwtPassword: boolean;\n  };\n}\n\nconst Tenant = (props: Props) => {\n  const [data, setData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    repeatPassword: '',\n    jwtPassword: '',\n    pageNo: 1,\n    created: false,\n  });\n\n  const [banner, setBanner] = useState<null | { name: any }>(null);\n\n  const [errorFields, setErrorFields] = useState({\n    name: false,\n    email: false,\n    password: false,\n    repeatPassword: false,\n    jwtPassword: false,\n  });\n\n  useEffect(() => {\n    props.getProfile();\n  }, []);\n\n  const handleChange = event => {\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\n  };\n\n  const sentTenantUrlAction = () => {\n    sentTenantUrl({\n      name: data.name,\n    })\n      .then((response: any) => {\n        if (response === 200) {\n          sendMessage('notification', true, {\n            message: 'Password sent successfully',\n            type: 'success',\n            duration: 3000,\n          });\n        } else {\n          sendMessage('notification', true, {\n            type: 'failure',\n            message: 'Invalid Email error',\n            duration: 3000,\n          });\n        }\n      })\n      .catch(error => {\n        sendMessage('notification', true, {\n          type: 'failure',\n          message: 'Bad request',\n          duration: 3000,\n        });\n      });\n  };\n\n  const clearError = () => {\n    setErrorFields({\n      name: false,\n      email: false,\n      password: false,\n      repeatPassword: false,\n      jwtPassword: false,\n    });\n  };\n\n  const setError = fieldName => {\n    setErrorFields({ ...errorFields, [fieldName]: true });\n  };\n\n  const validate = () => {\n    if (isEmptyOrSpaces(data.name)) {\n      setError('name');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Tenant name cannot be empty',\n        duration: 3000,\n      });\n      return false;\n    }\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\n      setError('email');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Email ID is invalid',\n        duration: 3000,\n      });\n      return false;\n    }\n\n    if (isEmptyOrSpaces(data.password)) {\n      setError('password');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Password cannot be empty',\n        duration: 3000,\n      });\n      return false;\n    }\n\n    if (data.password !== data.repeatPassword) {\n      setError('repeatPassword');\n      sendMessage('notification', true, {\n        type: 'failure',\n        message: 'Password and repeat password should be same',\n        duration: 3000,\n      });\n      return false;\n    }\n\n    return true;\n  };\n\n  const submit = event => {\n    event.preventDefault();\n    sendMessage('spinner');\n    clearError();\n\n    if (!validate()) {\n      return;\n    }\n\n    preSignup({ name: data.name }).then(response => {\n      if (response.status === 200) {\n        createTenantAction(response.data);\n      }\n    });\n  };\n\n  const handleImageChange = e => {\n    setBanner(e.target.files[0]);\n  };\n\n  const createTenantAction = preSignupData => {\n    createTenant({\n      tenantName: data.name,\n      email: data.email,\n      password: data.password,\n      jwtPassword: data.jwtPassword,\n      solution: preSignupData.solution,\n      salt: preSignupData.salt,\n      banner,\n    })\n      .then(response => {\n        if (response.status === 200) {\n          sendMessage('notification', true, {\n            type: 'success',\n            message: 'Tenant has been created. You can proceed now',\n            duration: 3000,\n          });\n          setData({ ...data, pageNo: data.pageNo + 1, created: true });\n        } else {\n          sendMessage('notification', true, {\n            message: 'We are facing some problem, please try after sometime',\n            duration: 3000,\n          });\n        }\n      })\n      .catch(error => {\n        sendMessage('notification', true, {\n          type: 'failure',\n          message: 'Unknown error. Please try again or at a later time',\n          duration: 3000,\n        });\n      });\n  };\n\n  const gotoTenantPage = () => {\n    props.history.push(`/${data.name}/home`);\n  };\n\n  return (\n    <div className=\"tenant boxed\">\n      {!data.created && (\n        <div className=\"typography-3 space-bottom-4\">Tenant creation</div>\n      )}\n      {data.created && (\n        <div className=\"typography-3 space-bottom-4\">\n          Tenant [{data.name}] available now\n        </div>\n      )}\n      {data.pageNo === 1 && (\n        <div className=\"form\">\n          <OakText\n            id=\"name\"\n            data={data}\n            label=\"Tenant Name\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"email\"\n            data={data}\n            label=\"Administrator Email\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"password\"\n            type=\"password\"\n            data={data}\n            label=\"Administrator Password\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"repeatPassword\"\n            type=\"password\"\n            data={data}\n            label=\"Repeat Password\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <OakText\n            id=\"jwtPassword\"\n            type=\"password\"\n            data={data}\n            label=\"JWT Password\"\n            handleChange={e => handleChange(e)}\n            errorFields={errorFields}\n          />\n          <label className=\"file-upload space-top-1 space-bottom-4\">\n            <input\n              type=\"file\"\n              accept=\"image/png, image/jpeg\"\n              onChange={handleImageChange}\n              required\n            />\n            <i className=\"material-icons\">add_photo_alternate</i>\n            {!banner && 'Choose Banner/Cover Image'}\n            {banner && banner.name}\n          </label>\n          <div className=\"action\">\n            <OakButton theme=\"primary\" variant=\"appear\" action={submit}>\n              Create Tenant\n            </OakButton>\n          </div>\n        </div>\n      )}\n      {data.created && (\n        <OakButton theme=\"primary\" variant=\"disappear\" action={gotoTenantPage}>\n          Take me to my tenant\n        </OakButton>\n      )}\n    </div>\n  );\n};\n\nexport default Tenant;\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from './types';\n\nexport const getAuth = () => dispatch => {\n  dispatch({\n    type: GET_AUTH,\n  });\n};\n\nexport const addAuth = data => dispatch => {\n  dispatch({\n    type: ADD_AUTH,\n    payload: data,\n  });\n};\n\nexport const removeAuth = () => dispatch => {\n  dispatch({\n    type: REMOVE_AUTH,\n  });\n};\n","import React, { useEffect } from 'react';\nimport { Socket, Channel } from 'phoenix';\nimport axios from 'axios';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { getAuth, addAuth } from '../../actions/AuthActions';\nimport { Authorization } from '../Types/GeneralTypes';\nimport { httpGet } from '../Lib/RestTemplate';\nimport { sendMessage } from '../../events/MessageService';\n\ninterface Props {\n  authorization: Authorization;\n  path?: string;\n  render?: any;\n  component: any;\n  match: any;\n  history: any;\n  middleware?: string[];\n  cookies: any;\n  socket?: Socket;\n  channel?: Channel;\n}\n\nconst OakRoute = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n  const profile = useSelector(state => state.profile);\n  const dispatch = useDispatch();\n\n  const middlewares = () => {\n    props.middleware?.forEach(middlewareName => {\n      if (!runMidleware(middlewareName)) {\n        return false;\n      }\n    });\n    return true;\n  };\n\n  const runMidleware = middlewareName => {\n    sendMessage('spaceChange', true, '');\n    switch (middlewareName) {\n      case 'readAuthentication':\n        return readAuthenticationSpace();\n      case 'authenticate':\n        return authenticateSpace();\n      case 'isAdmin':\n        return isAdmin();\n      default:\n        return true;\n    }\n  };\n\n  const authenticateSpace = () => {\n    return authenticate('space');\n  };\n  const readAuthenticationSpace = () => {\n    return authenticate('space', false);\n  };\n\n  const authenticate = async (type, redirect = true) => {\n    sendMessage('spaceChange', true, props.match.params.tenant);\n    if (authorization.isAuth) {\n      return true;\n    }\n    const cookieKey = `mercury_${props.match.params.tenant}`;\n    const authKey = props.cookies.get(cookieKey);\n    const baseAuthUrl = `/account/user/${props.match.params.tenant}`;\n    if (authKey) {\n      try {\n        httpGet(`${baseAuthUrl}/session/${authKey}`, null)\n          .then(sessionResponse => {\n            console.log('success');\n            if (sessionResponse.status === 200) {\n              dispatch(\n                addAuth({\n                  isAuth: true,\n                  token: sessionResponse.data.token,\n                  secret: '',\n                  firstName: sessionResponse.data.first_name,\n                  lastName: sessionResponse.data.last_name,\n                  email: sessionResponse.data.email,\n                  type: sessionResponse.data.type,\n                  userId: sessionResponse.data.user_id,\n                  id: sessionResponse.data.id,\n                })\n              );\n            }\n          })\n          .catch((error: any) => {\n            props.cookies.remove(cookieKey);\n            if (redirect && error.response.status === 404) {\n              sendMessage('notification', true, {\n                type: 'failure',\n                message: 'Invalid session token',\n                duration: 3000,\n              });\n              redirectToLogin(props.match.params.tenant);\n            } else if (redirect && error.response.status === 401) {\n              sendMessage('notification', true, {\n                type: 'failure',\n                message: 'Session expired',\n                duration: 3000,\n              });\n              redirectToLogin(props.match.params.tenant);\n            } else if (redirect && error.response.status === 401) {\n              sendMessage('notification', true, {\n                type: 'failure',\n                message: 'Unhandled exception',\n                duration: 3000,\n              });\n              redirectToLogin(props.match.params.tenant);\n            }\n          });\n      } catch (error) {\n        console.log(error);\n      }\n    } else if (redirect) {\n      redirectToLogin(props.match.params.tenant);\n    } else {\n      return true;\n    }\n  };\n\n  const isAdmin = () => {\n    redirectToUnauthorized();\n    return false;\n  };\n\n  const redirectToLogin = spaceId => {\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${spaceId}/login?type=signin&appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\n  };\n\n  const redirectToUnauthorized = () => {\n    props.history.push(`/${profile.tenant}/unauthorized`);\n  };\n\n  return (\n    <>\n      {middlewares() && (\n        <props.component\n          {...props}\n          profile={profile}\n          space={props.match.params.tenant}\n          // getProfile={getProfile}\n          // setProfile={props.setProfile}\n        />\n      )}\n    </>\n  );\n};\n\nexport default OakRoute;\n","import React, { useState, useEffect } from 'react';\n\nconst Unauthorized = () => {\n  return (\n    <div>\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      <br />\n      Unauthorized\n    </div>\n  );\n};\n\nexport default Unauthorized;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport { useSelector } from 'react-redux';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\n\ninterface Props {\n  space: string;\n}\n\nconst LoginSection = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n  const login = () => {\n    window.location.href = `${process.env.REACT_APP_ONEAUTH_URL}/#/space/${props.space}/login?appId=${process.env.REACT_APP_ONEAUTH_APP_ID}`;\n  };\n  return (\n    <>\n      {authorization.isAuth && (\n        <OakButton\n          theme=\"primary\"\n          variant=\"disappear\"\n          small\n          //   action={props.logout}\n        >\n          <i className=\"material-icons\">power_settings_new</i>Logout\n        </OakButton>\n      )}\n      {!authorization.isAuth && (\n        <OakButton\n          theme=\"primary\"\n          variant=\"appear\"\n          align=\"left\"\n          small\n          action={login}\n        >\n          <i className=\"material-icons\">person</i>Login\n        </OakButton>\n      )}\n    </>\n  );\n};\n\nexport default LoginSection;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport mercuryWhite from '../../images/mercury_white.svg';\nimport mercuryBlack from '../../images/mercury_black.svg';\n\nimport './style.scss';\n\nconst Logo = () => {\n  const profile = useSelector(state => state.profile);\n  return (\n    <div className=\"logo-container\">\n      {profile?.theme === 'theme_light' && (\n        <img className=\"logo\" src={mercuryBlack} alt=\"Mercury logo\" />\n      )}\n      {profile?.theme === 'theme_dark' && (\n        <img className=\"logo\" src={mercuryWhite} alt=\"Mercury logo\" />\n      )}\n    </div>\n  );\n};\n\nexport default Logo;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport LoginSection from './LoginSection';\nimport Logo from '../../Logo/Logo';\nimport { User } from '../../../types/graphql';\n\ninterface Props {\n  user: User;\n  history: any;\n  space: string;\n  params: any;\n}\n\nconst PeopleLink = (props: Props) => {\n  const changePerson = () => {\n    props.history.push(`/${props.space}/dash?type=person&id=${props.user.id}`);\n  };\n  return (\n    <div\n      className={`people-link ${\n        props.params?.type === 'person' && props.params?.id === props.user.id\n          ? 'active'\n          : ''\n      }`}\n      onClick={changePerson}\n    >\n      {props.user.firstName} {props.user.lastName}\n    </div>\n  );\n};\n\nexport default PeopleLink;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport LoginSection from './LoginSection';\nimport Logo from '../../Logo/Logo';\nimport { User } from '../../../types/graphql';\nimport PeopleLink from './PeopleLink';\n\ninterface Props {\n  users: User[];\n  history: any;\n  space: string;\n  params: any;\n}\n\nconst PeopleList = (props: Props) => {\n  return (\n    <div className=\"people-list\">\n      <div className=\"typography-4 people-list-title\">Direct messages</div>\n      {props.users.map(item => (\n        <PeopleLink\n          user={item}\n          key={item.id}\n          space={props.space}\n          history={props.history}\n          params={props.params}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default PeopleList;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport LoginSection from './LoginSection';\nimport Logo from '../../Logo/Logo';\nimport { User } from '../../../types/graphql';\n\ninterface Props {\n  history: any;\n  space: string;\n  params: any;\n}\n\nconst ChannelList = (props: Props) => {\n  return (\n    <div className=\"channel-list\">\n      <div className=\"typography-4 channel-list-title\">Channels</div>\n      <div className=\"\">No channels yet</div>\n    </div>\n  );\n};\n\nexport default ChannelList;\n","import React, { useEffect } from 'react';\nimport './styles/oak-avatar.scss';\n\ninterface Props {\n  showName?: boolean;\n  size?: string;\n  firstName?: string;\n  lastName?: string;\n  variant?: 'outline' | 'dotted';\n}\nconst OakAvatar = (props: Props) => {\n  const getStyle = () => {\n    const style = props.variant ? props.variant : '';\n\n    return style;\n  };\n\n  return (\n    <div className={`oak-avatar ${getStyle()}`}>\n      {/* <AvatarImage\n      v-if=\"user.avatar\"\n      v-bind:reference=\"user.avatar\"\n      v-bind:size=\"size\"\n    /> */}\n      <div\n        className={`${props.size ? props.size : ''} avatar-icon typography-6`}\n      >\n        {`${props.firstName?.substring(0, 1)}${props.lastName?.substring(\n          0,\n          1\n        )}`}\n      </div>\n      {props.showName && <div className=\"avatar-name\">{props.firstName}</div>}\n    </div>\n  );\n};\n\nexport default OakAvatar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, connect } from 'react-redux';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport LoginSection from './LoginSection';\nimport Logo from '../../Logo/Logo';\nimport { User } from '../../../types/graphql';\nimport PeopleList from './PeopleList';\nimport ChannelList from './ChannelList';\nimport OakAvatar from '../../../oakui/OakAvatar';\nimport { receiveMessage, sendMessage } from '../../../events/MessageService';\n\ninterface Props {\n  space: string;\n  users: User[];\n  history: any;\n  params: any;\n}\n\nconst LeftPanel = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n\n  return (\n    <div className=\"left-panel\">\n      <div className=\"top-header\">\n        <Logo />\n        <div className=\"chat-sidebar-switch\">\n          <i\n            className=\"material-icons\"\n            onClick={() => sendMessage('expand-chat-sidebar', false)}\n          >\n            menu_open\n          </i>\n        </div>\n      </div>\n      <div className=\"second-row\">\n        <OakAvatar\n          firstName={authorization.firstName}\n          lastName={authorization.lastName}\n        />\n        <LoginSection space={props.space} />\n      </div>\n      <div className=\"channel-list-wrapper\">\n        <ChannelList\n          history={props.history}\n          space={props.space}\n          params={props.params}\n        />\n      </div>\n      <div className=\"people-list-wrapper\">\n        {props.users && (\n          <PeopleList\n            users={props.users}\n            history={props.history}\n            space={props.space}\n            params={props.params}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LeftPanel;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\r\nimport React, { useEffect, useState } from 'react';\r\nimport './styles/oak-editor-toolbar.scss';\r\n\r\ninterface Props {\r\n  indent?: boolean;\r\n  font?: boolean;\r\n  heading?: boolean;\r\n  size?: boolean;\r\n  color?: boolean;\r\n  align?: boolean;\r\n}\r\nconst OakEditorToolbar = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-editor-toolbar\">\r\n      <div id=\"toolbar\">\r\n        <button className=\"toolbar-icon ql-bold\" />\r\n        <button className=\"toolbar-icon ql-italic\" />\r\n        <button className=\"toolbar-icon ql-underline\" />\r\n        <button className=\"toolbar-icon ql-strike\" />\r\n        {props.align && (\r\n          <>\r\n            <button className=\"toolbar-icon ql-align\" value=\"center\" />\r\n            <button className=\"toolbar-icon ql-align\" value=\"right\" />\r\n            <button className=\"toolbar-icon ql-align\" value=\"justify\" />\r\n          </>\r\n        )}\r\n        <button className=\"toolbar-icon ql-list\" value=\"ordered\" />\r\n        <button className=\"toolbar-icon ql-list\" value=\"bullet\" />\r\n        {props.indent && (\r\n          <button className=\"toolbar-icon ql-indent\" value=\"-1\" />\r\n        )}\r\n        {props.indent && (\r\n          <button className=\"toolbar-icon ql-indent\" value=\"+1\" />\r\n        )}\r\n        {props.color && (\r\n          <select className=\"toolbar-icon ql-color\">\r\n            <option value=\"red\" />\r\n            <option value=\"green\" />\r\n            <option value=\"blue\" />\r\n            <option value=\"#f0f0f0\" />\r\n            <option selected />\r\n          </select>\r\n        )}\r\n        <button className=\"toolbar-icon ql-blockquote\" />\r\n        {props.font && <select className=\"toolbar-icon ql-font\" />}\r\n        {props.heading && <select className=\"toolbar-icon ql-header\" />}\r\n        {props.size && <select className=\"toolbar-icon ql-size\" />}\r\n        <button className=\"toolbar-icon ql-image\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakEditorToolbar;\r\n","import React, { useState, useEffect } from 'react';\nimport ReactQuill, { Quill } from 'react-quill';\nimport './styles/oak-editor.scss';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.bubble.css';\nimport OakEditorToolbar from './OakEditorToolbar';\n\ninterface Props {\n  id: string;\n  data: any;\n  handleChange: any;\n  handleEnter?: Function;\n  bubble?: boolean;\n  label?: string;\n  indent?: boolean;\n  font?: boolean;\n  heading?: boolean;\n  size?: boolean;\n  color?: boolean;\n  align?: boolean;\n  bottom?: boolean;\n  center?: boolean;\n}\ninterface State {\n  blockApiChangeEvents: boolean;\n  customClass: string;\n}\n\nclass OakEditor extends React.Component<Props, State> {\n  formats = [\n    'header',\n    'bold',\n    'italic',\n    'underline',\n    'strike',\n    'blockquote',\n    'list',\n    'bullet',\n    'indent',\n    'color',\n    'font',\n    'code-block',\n    'link',\n    'image',\n    'background',\n    'align',\n    'size',\n  ];\n\n  // modules = {\n  //   toolbar: [\n  //     [\n  //       'bold',\n  //       'italic',\n  //       'underline',\n  //       'strike',\n  //       { align: 'left' },\n  //       { align: 'center' },\n  //       { align: 'right' },\n  //       { align: 'justify' },\n  //       // { header: 1 },\n  //       // { header: 2 },\n  //       { list: 'ordered' },\n  //       { list: 'bullet' },\n  //       { indent: '-1' },\n  //       { indent: '+1' },\n  //       { color: [] },\n  //       { background: [] },\n  //       // 'blockquote',\n  //       'code-block',\n  //       { header: [1, 2, 3, 4, 5, 6, false] },\n  //       { font: [] },\n  //       // 'clean',\n  //       'image',\n  //     ],\n  //   ],\n  //   keyboard: {\n  //     bindings: {\n  //       linebreak: {\n  //         key: 13,\n  //         shiftKey: false,\n  //         handler(range) {\n  //           // handleEnter();\n  //         },\n  //       },\n  //     },\n  //   },\n  // };\n\n  modules = {\n    toolbar: {\n      container: '#toolbar',\n    },\n    keyboard: {\n      bindings: {\n        linebreak: {\n          key: 13,\n          shiftKey: false,\n          handler(range) {\n            // handleEnter();\n          },\n        },\n      },\n    },\n  };\n\n  IMAGE_MIME_REGEX = /^image\\/(p?jpeg|gif|png)$/i;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      customClass: '',\n      blockApiChangeEvents: true,\n    };\n  }\n\n  componentDidMount() {\n    document.onpaste = e => {\n      const items = e.clipboardData?.items;\n\n      if (items) {\n        for (let i = 0; i < items.length; i += 1) {\n          if (this.IMAGE_MIME_REGEX.test(items[i].type)) {\n            e.preventDefault();\n            this.loadImage(items[i].getAsFile());\n            return;\n          }\n        }\n      }\n    };\n  }\n\n  loadImage = function(file) {\n    const reader = new FileReader();\n    reader.onload = function(e) {\n      if (e?.target?.result) {\n        const img: any = document.createElement('img');\n        img.src = e.target.result;\n\n        const range = window?.getSelection()?.getRangeAt(0);\n        if (range) {\n          range.deleteContents();\n          range.insertNode(img);\n        }\n      }\n    };\n    reader.readAsDataURL(file);\n  };\n\n  handleEnter = event => {\n    if (\n      event.keyCode === 13 &&\n      !event.shiftKey &&\n      this.props.data[this.props.id] !== '<p><br></p>'\n    ) {\n      this.props.handleEnter && this.props.handleEnter();\n    }\n  };\n\n  handleChange = (value, delta, source) => {\n    if (source === 'api' && this.state.blockApiChangeEvents) {\n      this.setState({ blockApiChangeEvents: false });\n    } else {\n      this.props.handleChange({\n        target: {\n          name: this.props.id,\n          value,\n        },\n      });\n    }\n  };\n\n  handleFocus = () => {\n    this.setState({ ...this.state, customClass: 'active' });\n  };\n\n  handleBlur = () => {\n    this.setState({ ...this.state, customClass: '' });\n  };\n\n  render() {\n    return (\n      <div\n        className={`oak-editor ${this.props.bubble ? 'bubble' : ''} ${\n          this.state.customClass\n        } ${this.props.center ? 'center' : ''}`}\n      >\n        <label>{this.props.label}</label>\n        {!this.props.bottom && (\n          <OakEditorToolbar\n            indent={this.props.indent}\n            font={this.props.font}\n            heading={this.props.heading}\n            size={this.props.size}\n            color={this.props.color}\n            align={this.props.align}\n          />\n        )}\n        <div className=\"quill-wrapper\">\n          <ReactQuill\n            value={this.props.data[this.props.id]}\n            onChange={this.handleChange}\n            theme={this.props.bubble ? 'bubble' : 'snow'}\n            modules={this.modules}\n            formats={this.formats}\n            onKeyUp={this.handleEnter}\n            onFocus={this.handleFocus}\n            onBlur={this.handleBlur}\n          />\n          {/* <div className=\"visibility-control\">show</div> */}\n        </div>\n        {this.props.bottom && (\n          <OakEditorToolbar\n            indent={this.props.indent}\n            font={this.props.font}\n            heading={this.props.heading}\n            size={this.props.size}\n            color={this.props.color}\n            align={this.props.align}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default OakEditor;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport { newId } from '../../../events/MessageService';\nimport OakEditor from '../../../oakui/OakEditor';\n\ninterface Props {\n  socket: Socket;\n  channel: Channel;\n  params: any;\n}\n\nconst ComposeSection = (props: Props) => {\n  const [state, setState] = useState({\n    message: '',\n  });\n\n  const presence = () => {\n    const p = new Presence(props.channel);\n    p.onSync(() => {\n      console.log(p.list());\n    });\n    p.onJoin((id, current, newP) => {\n      if (!current) {\n        console.log('user has entered for the first time', newP);\n      } else {\n        console.log('user additional presence', newP);\n      }\n    });\n  };\n\n  const sendMessage = () => {\n    props.channel.push(\n      'new_message',\n      { receiver: props.params?.id, content: state.message },\n      10000\n    );\n    setState({ message: '' });\n  };\n\n  const handleChange = event => {\n    setState({ ...state, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <div className=\"compose-section\">\n      {props.socket && (\n        <form method=\"GET\" onSubmit={sendMessage} noValidate>\n          <OakEditor\n            data={state}\n            id=\"message\"\n            handleChange={handleChange}\n            handleEnter={sendMessage}\n            bottom\n            // center\n            size\n            color\n            align\n          />\n          {/* <OakEditor\n          data={state}\n          id=\"message\"\n          handleChange={handleChange}\n          handleEnter={sendMessage}\n        /> */}\n        </form>\n      )}\n      {!props.socket && <div>Initializing...</div>}\n    </div>\n  );\n};\n\nexport default ComposeSection;\n","import gql from 'graphql-tag';\n\nexport const LIST_ALL_USERS = gql`\n  query AllUsers {\n    allUsers {\n      id\n      firstName\n      lastName\n      email\n    }\n  }\n`;\n\nexport const LIST_PERSON_MESSAGES = gql`\n  query Personmessages(\n    $selfId: ID!\n    $otherId: ID!\n    $pageSize: Int!\n    $lastIndex: Int!\n  ) {\n    personmessages(\n      selfId: $selfId\n      otherId: $otherId\n      lastIndex: $lastIndex\n      pageSize: $pageSize\n    ) {\n      lastIndex\n      hasMore\n      results {\n        id\n        content\n        sender\n        receiver\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport './styles/oak-viewer.scss';\n\ninterface Props {\n  children: any;\n}\nconst OakViewer = (props: Props) => {\n  return (\n    <div className=\"oak-viewer\">\n      <div dangerouslySetInnerHTML={{ __html: props.children || '' }} />\n    </div>\n  );\n};\n\nexport default OakViewer;\n","import format from 'date-fns/format';\n\nconst currentYear = new Date().getFullYear();\n\nconst dateFormatWithoutYear = 'MMM d';\nconst dateFormat = 'MMM d, yyyy';\nconst timeFormat = 'h:mm a';\n\nexport const formatDateText = (dateText: string) => {\n  if (dateText) {\n    const date = new Date(dateText);\n    return format(\n      date,\n      date.getFullYear() === currentYear ? dateFormatWithoutYear : dateFormat\n    );\n  }\n  return '';\n};\n\nexport const formatDate = (date: Date) => {\n  if (date) {\n    return format(\n      date,\n      date.getFullYear() === currentYear ? dateFormatWithoutYear : dateFormat\n    );\n  }\n  return '';\n};\n\nexport const formatDateOrTimeText = (dateText: string) => {\n  if (dateText) {\n    const date = new Date(dateText);\n    if (isToday(date, new Date())) {\n      return `Today at ${format(date, timeFormat)}`;\n    }\n    return format(\n      date,\n      date.getFullYear() === currentYear ? dateFormatWithoutYear : dateFormat\n    );\n  }\n  return '';\n};\n\nconst isToday = (date, now) => {\n  const yearDate = date.getYear();\n  const monthDate = date.getMonth();\n  const dayDate = date.getDate();\n  const yearNow = now.getYear();\n  const monthNow = now.getMonth();\n  const dayNow = now.getDate();\n  if (yearDate === yearNow && monthDate === monthNow && dayDate === dayNow) {\n    return true;\n  }\n  return false;\n};\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport ComposeSection from './ComposeSection';\nimport { newId } from '../../../events/MessageService';\nimport OakViewer from '../../../oakui/OakViewer';\nimport OakAvatar from '../../../oakui/OakAvatar';\nimport { User, Personmessage } from '../../../types/graphql';\nimport { formatDateOrTimeText } from '../../Lib/DateUtils';\n\ninterface Props {\n  message: any;\n  selfUser: User;\n  otherUser: User;\n}\n\nconst ViewMessage = (props: Props) => {\n  const [youareasender, setYouareasender] = useState(false);\n\n  useEffect(() => {\n    if (props.message.sender == props.selfUser.id) {\n      setYouareasender(true);\n    }\n  }, [props.message]);\n\n  return (\n    <div className=\"view-message\">\n      <div className=\"column-left\">\n        {youareasender && (\n          <OakAvatar\n            firstName={props.selfUser.firstName || ''}\n            lastName={props.selfUser.lastName || ''}\n            variant=\"outline\"\n          />\n        )}\n        {!youareasender && (\n          <OakAvatar\n            firstName={props.otherUser.firstName || ''}\n            lastName={props.otherUser.lastName || ''}\n            variant=\"dotted\"\n          />\n        )}\n      </div>\n      <div className=\"column-right\">\n        <div className=\"sender-meta\">\n          {youareasender && (\n            <div className=\"sender-name\">\n              {props.selfUser.firstName} {props.selfUser.lastName}\n            </div>\n          )}\n          {!youareasender && (\n            <div className=\"sender-name\">\n              {props.otherUser.firstName} {props.otherUser.lastName}\n            </div>\n          )}\n          <div className=\"sent-time typography-4\">\n            {formatDateOrTimeText(props.message.inserted_at)}\n          </div>\n        </div>\n        <div>\n          <OakViewer key={newId()}>{props.message.content}</OakViewer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ViewMessage;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport ViewMessage from './ViewMessage';\nimport { User } from '../../../types/graphql';\n\ninterface Props {\n  selfUser: User;\n  otherUser: User;\n  params: any;\n  messages: any[];\n  newMessages: any[];\n}\n\nconst MessageStreamRender = (props: Props) => {\n  const [newRelevantMessages, setNewRelevantMessages] = useState<any[]>([]);\n\n  useEffect(() => {\n    console.log(props.newMessages);\n    if (props.newMessages) {\n      if (props.selfUser.id === props.otherUser.id) {\n        setNewRelevantMessages(\n          props.newMessages.filter(item => item.sender === item.receiver)\n        );\n      } else {\n        setNewRelevantMessages(\n          props.newMessages.filter(\n            item =>\n              item.sender == props.otherUser.id ||\n              item.receiver == props.otherUser.id\n          )\n        );\n      }\n    } else {\n      setNewRelevantMessages([]);\n    }\n  }, [props.newMessages, props.selfUser, props.otherUser]);\n\n  return (\n    <div className=\"message-stream\">\n      {props.messages?.map((item, index) => (\n        <ViewMessage\n          key={item.id || index}\n          message={item}\n          selfUser={props.selfUser}\n          otherUser={props.otherUser}\n        />\n      ))}\n      {newRelevantMessages?.map((item, index) => (\n        <ViewMessage\n          key={item.id || index}\n          message={item}\n          selfUser={props.selfUser}\n          otherUser={props.otherUser}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default MessageStreamRender;\n","import React, { useEffect, useState } from 'react';\nimport './styles/oak-infinite-scroll.scss';\nimport { sendMessage } from '../events/MessageService';\n\ninterface Props {\n  selector?: string;\n  children?: any;\n  handleChange: any;\n  reverseOrder?: boolean;\n}\n\nconst OakInfiniteScroll = (props: Props) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  useEffect(() => {\n    document\n      .querySelector(props.selector || '.oak-infinite-scroll')\n      ?.addEventListener(\n        'scroll',\n        props.reverseOrder ? handleReverseScroll : handleScroll\n      );\n    return () =>\n      document\n        .querySelector(props.selector || '.oak-infinite-scroll')\n        ?.addEventListener(\n          'scroll',\n          props.reverseOrder ? handleReverseScroll : handleScroll\n        );\n  }, []);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    fetchMoreListItems();\n  }, [isFetching]);\n\n  function fetchMoreListItems() {\n    props.handleChange();\n    setIsFetching(false);\n  }\n\n  function handleScroll() {\n    if (\n      (document.querySelector(props.selector || '.oak-infinite-scroll')\n        ?.clientHeight || 0) +\n        (document.querySelector(props.selector || '.oak-infinite-scroll')\n          ?.scrollTop || 0) >=\n      (document.querySelector(props.selector || '.oak-infinite-scroll')\n        ?.scrollHeight || 0)\n    ) {\n      // console.log('Fetch more list items!');\n      setIsFetching(true);\n      // props.handleChange();\n    }\n  }\n\n  function handleReverseScroll() {\n    if (\n      (document.querySelector(props.selector || '.oak-infinite-scroll')\n        ?.scrollHeight || 0) >=\n        (document.querySelector(props.selector || '.oak-infinite-scroll')\n          ?.clientHeight || 0) &&\n      (document.querySelector(props.selector || '.oak-infinite-scroll')\n        ?.scrollTop || 0) === 0\n    ) {\n      // console.log('Fetch more list items!');\n      setIsFetching(true);\n      document\n        .querySelector(props.selector || '.oak-infinite-scroll')\n        ?.scrollTo(0, 10);\n      // props.handleChange();\n    }\n  }\n\n  return (\n    <div\n      className={\n        props.selector\n          ? 'oak-infinite-scroll'\n          : 'oak-infinite-scroll native-scroll'\n      }\n    >\n      {props.children}\n    </div>\n  );\n};\n\nexport default OakInfiniteScroll;\n","import React, { useEffect, useState } from 'react';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { useSelector, connect } from 'react-redux';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport ComposeSection from './ComposeSection';\nimport { newId } from '../../../events/MessageService';\nimport OakViewer from '../../../oakui/OakViewer';\nimport ViewMessage from './ViewMessage';\nimport { User } from '../../../types/graphql';\nimport { LIST_PERSON_MESSAGES } from '../../Types/schema';\nimport MessageStreamRender from './MessageStreamRender';\nimport OakInfiniteScroll from '../../../oakui/OakInfiniteScroll';\nimport OakSpinner from '../../../oakui/OakSpinner';\n\ninterface Props {\n  channel: Channel;\n  params: any;\n  users: User[];\n}\n\nconst MessageStream = (props: Props) => {\n  const [\n    loadPersonMessages,\n    { loading, error, data, called, fetchMore, refetch },\n  ] = useLazyQuery(LIST_PERSON_MESSAGES, {\n    notifyOnNetworkStatusChange: true,\n    variables: { selfId: '', otherId: '', lastIndex: -1, pageSize: 20 },\n  });\n  const authorization = useSelector(state => state.authorization);\n  const [messages, setMessages] = useState<any>([]);\n  const [selfUser, setSelfUser] = useState<User>();\n  const [otherUser, setOtherUser] = useState<User>();\n\n  useEffect(() => {\n    if (authorization.isAuth && props.users) {\n      setSelfUser(props.users.find(item => item.id == authorization.id));\n      setOtherUser(props.users.find(item => item.id == props.params.id));\n      fetchData();\n    }\n  }, [authorization, props.users, props.params]);\n\n  const fetchData = () => {\n    if (!called) {\n      loadPersonMessages({\n        variables: {\n          selfId: authorization.id,\n          otherId: props.params.id,\n          lastIndex: -1,\n          pageSize: 20,\n        },\n      });\n    } else {\n      refetch({\n        selfId: authorization.id,\n        otherId: props.params.id,\n        lastIndex: -1,\n        pageSize: 20,\n      });\n    }\n  };\n\n  const fetchMoreData = () => {\n    if (!loading && data?.personmessages && data?.personmessages?.hasMore) {\n      fetchMore({\n        variables: { lastIndex: data.personmessages.lastIndex },\n        updateQuery: (prev: any, { fetchMoreResult }: any) => {\n          return {\n            personmessages: {\n              ...prev.personmessages,\n              results: [\n                ...fetchMoreResult.personmessages.results,\n                ...prev.personmessages.results,\n              ],\n              lastIndex: fetchMoreResult.personmessages.lastIndex,\n              hasMore: fetchMoreResult.personmessages.hasMore,\n            },\n          };\n        },\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (props.channel) {\n      props.channel.on('new_message', msg => {\n        setMessages(prev => [...prev, msg]);\n        setTimeout(() => {\n          const div = document.getElementById('message-stream');\n          if (div) {\n            div.scrollTop = div.scrollHeight - div.clientHeight;\n          }\n        }, 0);\n      });\n    }\n  }, [props.channel]);\n\n  const handleChange = () => {\n    console.log('scrolled');\n    fetchMoreData();\n  };\n\n  return (\n    <>\n      <div className=\"message-stream-container\" id=\"message-stream\">\n        {selfUser && otherUser && (\n          <OakInfiniteScroll\n            handleChange={handleChange}\n            selector=\".message-stream-container\"\n            reverseOrder\n          >\n            <MessageStreamRender\n              params={props.params}\n              messages={data?.personmessages?.results}\n              newMessages={messages}\n              selfUser={selfUser}\n              otherUser={otherUser}\n            />\n          </OakInfiniteScroll>\n        )}\n      </div>\n      {loading && <OakSpinner />}\n    </>\n  );\n};\n\nexport default MessageStream;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport ComposeSection from './ComposeSection';\nimport { newId, sendMessage } from '../../../events/MessageService';\nimport MessageStream from './MessageStream';\nimport { User } from '../../../types/graphql';\n\ninterface Props {\n  user: User;\n}\n\nconst PersonHeader = (props: Props) => {\n  return (\n    <div className=\"main-section-header\">\n      <i\n        className=\"material-icons chat-sidebar-switch\"\n        onClick={() => sendMessage('expand-chat-sidebar')}\n      >\n        menu\n      </i>\n      <i className=\"material-icons\">person</i>\n      {props.user.firstName} {props.user.lastName}\n    </div>\n  );\n};\n\nexport default PersonHeader;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport './style.scss';\nimport OakButton from '../../../oakui/OakButton';\nimport ComposeSection from './ComposeSection';\nimport { newId } from '../../../events/MessageService';\nimport MessageStream from './MessageStream';\nimport { User } from '../../../types/graphql';\nimport PersonHeader from './PersonHeader';\n\ninterface Props {\n  socket: Socket;\n  channel: Channel;\n  params: any;\n  users: User[];\n}\n\nconst MainSection = (props: Props) => {\n  const [chosenUser, setChosenUser] = useState<User>();\n\n  useEffect(() => {\n    if (props.params?.id && props.params?.type === 'person') {\n      setChosenUser(props.users.find(item => item.id === props.params.id));\n    } else if (props.params?.id && props.params?.type === 'channel') {\n      console.log('channel');\n      setChosenUser(undefined);\n    }\n  }, [props.params]);\n\n  return (\n    <div className=\"main-section\">\n      <div className=\"header-wrapper\">\n        {chosenUser && <PersonHeader user={chosenUser} />}\n      </div>\n      <div className=\"message-stream-wrapper\">\n        <MessageStream\n          channel={props.channel}\n          params={props.params}\n          users={props.users}\n        />\n      </div>\n      <div className=\"compose-wrapper\">\n        <ComposeSection\n          socket={props.socket}\n          channel={props.channel}\n          params={props.params}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MainSection;\n","import React, { useEffect, useState } from 'react';\nimport { Socket, Presence, Channel } from 'phoenix';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { useQuery, useLazyQuery } from '@apollo/react-hooks';\nimport './style.scss';\nimport OakButton from '../../oakui/OakButton';\nimport { newId, receiveMessage } from '../../events/MessageService';\nimport LeftPanel from './LeftPanel';\nimport MainSection from './MainSection';\nimport { LIST_ALL_USERS } from '../Types/schema';\n\ninterface Props {\n  setProfile: Function;\n  profile: any;\n  match: any;\n  location: any;\n  history: any;\n  socket: Socket;\n  channel: Channel;\n  space: string;\n}\n\nconst queryString = require('query-string');\n\nconst Dash = (props: Props) => {\n  const [sidebarExpanded, setSidebarExpanded] = useState(true);\n\n  useEffect(() => {\n    receiveMessage().subscribe(message => {\n      if (message.name === 'expand-chat-sidebar') {\n        setSidebarExpanded(message.signal);\n      }\n    });\n  }, []);\n  const authorization = useSelector(state => state.authorization);\n  const [loadUsers, { loading, error, data, called }] = useLazyQuery(\n    LIST_ALL_USERS\n  );\n  const [params, setParams] = useState({\n    type: '',\n    id: '',\n  });\n\n  useEffect(() => {\n    if (authorization.isAuth && !called) {\n      loadUsers();\n    }\n  }, [authorization]);\n\n  useEffect(() => {\n    setParams(queryString.parse(props.location.search));\n  }, [props.location.search]);\n\n  return (\n    <div className=\"dash\">\n      <div\n        className={`left-panel-wrapper ${sidebarExpanded ? 'show' : 'hide'}`}\n      >\n        <LeftPanel\n          space={props.space}\n          history={props.history}\n          params={params}\n          users={data?.allUsers}\n        />\n      </div>\n      <div className=\"main-section-wrapper\">\n        {!loading && !error && data && (\n          <MainSection\n            socket={props.socket}\n            channel={props.channel}\n            params={params}\n            users={data.allUsers}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dash;\n","import React, { useEffect, useState } from 'react';\n\nimport { InMemoryCache } from 'apollo-boost';\nimport ApolloClient from 'apollo-client';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\nimport { ApolloProvider } from '@apollo/react-hooks';\n\nimport { Socket, Channel } from 'phoenix';\nimport { useSelector, connect } from 'react-redux';\nimport { Route } from 'react-router-dom';\nimport './style.scss';\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\nimport { withCookies } from 'react-cookie';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Home from '../Home';\nimport Login from '../Auth/Login';\nimport Landing from '../Landing';\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\nimport { getUser, addUser } from '../../actions/UserActions';\nimport { getProfile, setProfile } from '../../actions/ProfileActions';\n\nimport Notification from '../Notification';\nimport Navigation from '../Navigation';\nimport { httpGet } from '../Lib/RestTemplate';\nimport { Authorization } from '../Types/GeneralTypes';\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\nimport Tenant from '../Tenant';\nimport constants from '../Constants';\nimport OakRoute from '../Auth/OakRoute';\nimport Unauthorized from '../Auth/Unauthorized';\nimport Dash from '../Dash';\n\nconst themes = {\n  themecolor1: getTheme('#69A7BF'),\n  themecolor2: getTheme('#99587B'),\n  themecolor3: getTheme('#A66C26'),\n  themecolor4: getTheme('#37AE82'),\n};\n\nfunction getTheme(color: string) {\n  return createMuiTheme({\n    palette: {\n      primary: {\n        main: color,\n      },\n      secondary: {\n        main: color,\n      },\n    },\n  });\n}\n\ninterface Props {\n  getProfile: Function;\n  setProfile: Function;\n  getAuth: Function;\n  addAuth: Function;\n  removeAuth: Function;\n  getUser: Function;\n  addUser: Function;\n  cookies: any;\n\n  // event: PropTypes.object,\n  profile: any;\n  authorization: Authorization;\n}\n\nconst Content = (props: Props) => {\n  const authorization = useSelector(state => state.authorization);\n  const [socket, setSocket] = useState<Socket>();\n  const [channel, setChannel] = useState<Channel>();\n  const [showNav, setShowNav] = useState(false);\n  const [space, setSpace] = useState('');\n\n  const httpLink = createHttpLink({\n    uri: process.env.REACT_APP_GRAPHQL_URL,\n  });\n\n  const authLink = setContext((_, { headers }) => {\n    return {\n      headers: {\n        ...headers,\n        authorization: `${space} ${authorization?.token}` || '',\n      },\n    };\n  });\n\n  const client = new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache(),\n  });\n\n  useEffect(() => {\n    props.getProfile();\n    receiveMessage().subscribe(message => {\n      if (message.name === 'show-navbar-element') {\n        setShowNav(message.signal);\n      } else if (message.name === 'spaceChange') {\n        setSpace(message.data);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (authorization.isAuth && !socket && space) {\n      setSocket(\n        new Socket(\n          `${process.env.REACT_APP_WS_URL}/socket/websocket?auth_token=${authorization.token}`,\n          { params: { auth_token: authorization.token, space } }\n        )\n      );\n    }\n  }, [authorization, space]);\n\n  useEffect(() => {\n    if (socket) {\n      socket.connect();\n      socket.onError(() =>\n        console.log('there was an error with the connection!')\n      );\n      socket.onClose(() => console.log('the connection dropped'));\n\n      const userChannel = socket.channel(`user:${authorization.id}`);\n\n      userChannel\n        .join()\n        .receive('ok', ({ messages }) => console.log('catching up', messages))\n        .receive('error', ({ reason }) => console.log('failed join', reason))\n        .receive('timeout', () =>\n          console.log('Networking issue. Still waiting...')\n        );\n\n      setChannel(userChannel);\n    }\n  }, [socket]);\n\n  return (\n    <ApolloProvider client={client}>\n      <div\n        className={`App ${props.profile.theme} ${props.profile.textSize} ${props.profile.themeColor}`}\n      >\n        <HashRouter>\n          <div className=\"body\">\n            <div className=\"body-content\">\n              <Notification />\n              <MuiThemeProvider theme={themes.themecolor1}>\n                {/* {showNav && <Navigation {...props} />} */}\n                <Route\n                  path=\"/login\"\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Login} />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/unauthorized\"\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Unauthorized}\n                      middleware={['isAuthenticated']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Landing} />\n                  )}\n                />\n                <Route\n                  path=\"/home\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Landing} />\n                  )}\n                />\n                <Route\n                  path=\"/tenant\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute {...propsLocal} {...props} component={Tenant} />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/home\"\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Home}\n                      middleware={['readAuthentication']}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant/dash\"\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Dash}\n                      middleware={['readAuthentication']}\n                      socket={socket}\n                      channel={channel}\n                    />\n                  )}\n                />\n                <Route\n                  path=\"/:tenant\"\n                  exact\n                  render={propsLocal => (\n                    <OakRoute\n                      {...propsLocal}\n                      {...props}\n                      component={Home}\n                      middleware={['readAuthentication']}\n                    />\n                  )}\n                />\n              </MuiThemeProvider>\n            </div>\n          </div>\n        </HashRouter>\n      </div>\n    </ApolloProvider>\n  );\n};\n\nconst mapStateToProps = (state: any) => ({\n  user: state.user,\n  profile: state.profile, // ,\n  //   event: state.event\n});\n\nexport default connect(mapStateToProps, {\n  getProfile,\n  setProfile,\n  getUser,\n  addUser,\n})(withCookies(Content));\n","import { GET_PROFILE, SET_PROFILE } from './types';\n\nexport const getProfile = () => dispatch => {\n  dispatch({\n    type: GET_PROFILE,\n  });\n};\n\nexport const setProfile = payload => dispatch => {\n  dispatch({\n    type: SET_PROFILE,\n    payload,\n  });\n};\n","import { GET_USER, ADD_USER, FETCH_ALL_USERS } from './types';\nimport { httpGet, httpPut } from '../components/Lib/RestTemplate';\nimport { sendMessage } from '../events/MessageService';\nimport constants from '../components/Constants';\n\nconst domain = 'user';\n\nexport const getUser = () => dispatch => {\n  dispatch({\n    type: GET_USER,\n  });\n};\n\nexport const addUser = data => dispatch => {\n  dispatch({\n    type: ADD_USER,\n    payload: data,\n  });\n};\n\nexport const fetchAllUsers = (tenant, authorization) => dispatch => {\n  httpGet(`${constants.API_URL_USER}/${tenant}/all`, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  }).then(response => {\n    dispatch({\n      type: FETCH_ALL_USERS,\n      payload: { users: response.data.data },\n    });\n  });\n};\n\nexport const saveUser = (tenant, authorization, payload) => dispatch => {\n  httpPut(`${constants.API_URL_USER}/${tenant}/`, payload, {\n    headers: {\n      Authorization: authorization.token,\n    },\n  })\n    .then(response => {\n      if (response.status === 200) {\n        sendMessage(domain, true, {\n          action: payload.id ? 'updated' : 'created',\n        });\n        dispatch(fetchAllUsers(tenant, authorization));\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        sendMessage('session expired');\n      }\n    });\n};\n","import React from 'react';\nimport cookie from 'react-cookie';\nimport { Provider } from 'react-redux';\nimport store from '../../store';\nimport './style.scss';\nimport './metric.scss';\nimport Content from './Content';\n\nconst App = props => {\n  return (\n    <Provider store={store}>\n      <Content {...props} />\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <CookiesProvider>\n    <App />\n  </CookiesProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}